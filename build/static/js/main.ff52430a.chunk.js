(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,r){e.exports={header:"MainNavigation_header__2VnmL",logo:"MainNavigation_logo__Bjm7I",nav:"MainNavigation_nav__3Vh6f",active:"MainNavigation_active__e60_m"}},function(e,t,r){},,function(e,t,r){e.exports={pageCoverGrey:"PasswordResetForm_pageCoverGrey__3ujzA",ForgotPassword:"PasswordResetForm_ForgotPassword__3WrJQ","form-container":"PasswordResetForm_form-container__2IVky","form-wrap":"PasswordResetForm_form-wrap__5tyYn","form-box":"PasswordResetForm_form-box__ErEQ8","form-submit":"PasswordResetForm_form-submit__2OZI-"}},,,function(e,t,r){e.exports={wrapper:"IndividualForm_wrapper__2WtLM",title:"IndividualForm_title__3yTeN",form:"IndividualForm_form__2d1g-",inputfield:"IndividualForm_inputfield__2GWMv",input:"IndividualForm_input__2TSuK",textarea:"IndividualForm_textarea__2E8YL",custom_select:"IndividualForm_custom_select__33TA5",check:"IndividualForm_check__2p7ea",checkmark:"IndividualForm_checkmark__j1UfW",btn:"IndividualForm_btn__1WTxG",confirmation:"IndividualForm_confirmation__1wQZk",remove:"IndividualForm_remove__3t1L1",terms:"IndividualForm_terms__2XNjj"}},function(e,t,r){e.exports={backdrop:"RemoveMemberErrorModal_backdrop__2iVGp",modal:"RemoveMemberErrorModal_modal__1tHcI",header:"RemoveMemberErrorModal_header__uR7jf",content:"RemoveMemberErrorModal_content__1hAJL",actions:"RemoveMemberErrorModal_actions__2uFn4"}},function(e,t,r){e.exports={backdrop:"RemoveMemberConfirmationModal_backdrop__1478I",modal:"RemoveMemberConfirmationModal_modal__b_ta5",header:"RemoveMemberConfirmationModal_header__213qT",content:"RemoveMemberConfirmationModal_content__2J4Ae",actions:"RemoveMemberConfirmationModal_actions__1BxPt"}},function(e,t,r){e.exports={backdrop:"CreateGroupErrorModal_backdrop__1ZpHO",modal:"CreateGroupErrorModal_modal__10pHN",header:"CreateGroupErrorModal_header__t44Ou",content:"CreateGroupErrorModal_content__1T6ZJ",actions:"CreateGroupErrorModal_actions__2InLL"}},function(e,t,r){e.exports={backdrop:"CreateGroupConfirmationModal_backdrop__3aA9C",modal:"CreateGroupConfirmationModal_modal__16jlZ",header:"CreateGroupConfirmationModal_header__2jj-Y",content:"CreateGroupConfirmationModal_content__33bqJ",actions:"CreateGroupConfirmationModal_actions__3PfOB"}},function(e,t,r){e.exports={backdrop:"CancelSplittingConfirmationModal_backdrop__11Dnn",modal:"CancelSplittingConfirmationModal_modal__1aIQ7",header:"CancelSplittingConfirmationModal_header__3E6XY",content:"CancelSplittingConfirmationModal_content__17aVR",actions:"CancelSplittingConfirmationModal_actions__2v1VU"}},,,,,function(e,t,r){},,,,,function(e,t,r){e.exports={backdrop:"FormModal_backdrop__2lV6u",modal:"FormModal_modal__2RPCt"}},function(e,t,r){e.exports={pageCoverYellow:"Background_pageCoverYellow__XMuIF",pageCoverViolet:"Background_pageCoverViolet__2tXcz"}},,,,,,,,,,,,,function(e,t,r){e.exports={input:"NewGroupModalContent_input__2aRoy"}},function(e,t,r){e.exports={button:"ModalButton_button__3mfNx"}},function(e,t,r){e.exports={btnWrapper:"CloseBtn_btnWrapper__1OVzU",button:"CloseBtn_button__OcIEe"}},function(e,t,r){e.exports={wrapper:"NewGroupForm_wrapper__1PQ7x",title:"NewGroupForm_title__1Trrg",form:"NewGroupForm_form__1RT5A",inputfield:"NewGroupForm_inputfield__3ICu3",input:"NewGroupForm_input__zBRuS",textarea:"NewGroupForm_textarea__2iXMo",custom_select:"NewGroupForm_custom_select__ANqNt",check:"NewGroupForm_check__1xfH9",checkmark:"NewGroupForm_checkmark__3kKE4",btn:"NewGroupForm_btn__2trZ-",terms:"NewGroupForm_terms__2XW5X"}},function(e,t,r){e.exports={header:"GroupFormHeader_header__1QGXD"}},function(e,t,r){e.exports={btnWrapper:"AddGroupMemberBtn_btnWrapper__2uTUi",alternative:"AddGroupMemberBtn_alternative__2LucQ"}},function(e,t,r){e.exports={btnWrapper:"NewGroupBtnDanger_btnWrapper__32Go7",alternative:"NewGroupBtnDanger_alternative__17Mc6"}},function(e,t,r){e.exports={btnWrapper:"NewGroupBtnSuccess_btnWrapper__3LW0_",alternative:"NewGroupBtnSuccess_alternative__2kNKq"}},function(e,t,r){e.exports={btnWrapper:"NewGroupBtnSecondary_btnWrapper__1B9L3",alternative:"NewGroupBtnSecondary_alternative__28gJI"}},function(e,t,r){e.exports={card:"Card_card__8KR7i"}},function(e,t,r){e.exports={button:"Button_button__21NAu"}},function(e,t,r){e.exports={input:"NewMemberModal_input__3NprF"}},function(e,t,r){e.exports={btnWrapper:"CloseBtn_btnWrapper__2-EH0",button:"CloseBtn_button__3T3AX"}},function(e,t,r){e.exports={btnWrapper:"NewGroupBtnFormSubmission_btnWrapper__1H6uW",alternative:"NewGroupBtnFormSubmission_alternative__3RQ7k"}},function(e,t,r){e.exports={btnWrapper:"NewGroupBtnFormCancellation_btnWrapper__1MNWT",alternative:"NewGroupBtnFormCancellation_alternative__xxO8F"}},function(e,t,r){e.exports={input:"PasswordResetEmailFormModal_input__14j8t"}},function(e,t,r){e.exports={input:"ReminderModal_input__3u4RQ"}},function(e,t,r){e.exports={btnWrapper:"CloseBtn_btnWrapper__aDbXV",button:"CloseBtn_button__pq6uy"}},function(e,t,r){e.exports={btnWrapper:"ConfirmBtn_btnWrapper__3vHa3",button:"ConfirmBtn_button__1tDS-"}},function(e,t,r){e.exports={input:"PaymentConfirmationModal_input__1GYaw"}},function(e,t,r){e.exports={main:"Layout_main__PR7q_"}},function(e,t,r){e.exports={input:"PasswordUpdateFormModal_input__1l28Y"}},function(e,t,r){e.exports={btnWrapper:"ConfirmBtn_btnWrapper__2ZX82",button:"ConfirmBtn_button__2vF8O"}},,,,,function(e,t,r){},,,,,,,,,,,,,,,,,,,,function(e,t,r){},,function(e,t,r){},function(e,t,r){},function(e,t,r){},,,,,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var n=r(48),a=r.n(n),o=r(8),s=(r(78),r(4)),c=r(3),i=r(2),u=r.n(i),l=r(5),d=r.n(l),m=r(10),p=(r(98),r(0));var b,j,h,f,O,x,g,v,_,I,y,w=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Group Expense Manager"}),Object(p.jsx)("h2",{children:"GROUPS"})]})},N=r(33),k=r(1),C=r.n(k),M=(r(100),function(e){var t=new Date(e.date),r=t.toLocaleString("en-US",{month:"long"}),n=t.toLocaleString("en-US",{day:"2-digit"}),a=t.getFullYear();return Object(p.jsxs)("div",{className:"group-date",children:[Object(p.jsx)("div",{className:"group-date__month",children:r}),Object(p.jsx)("div",{className:"group-date__year",children:a}),Object(p.jsx)("div",{className:"group-date__day",children:n})]})}),S=(r(101),function(e){var t="card "+e.className;return Object(p.jsx)("div",{className:t,children:e.children})}),P=(r(102),function(e){var t,r=e.signedInUser.myShare,n=e.signedInUser.amountPaid;return t=r>n?"You owe Rs ".concat(r-n):r===n?"Your amount is settled up":"You are owed Rs ".concat(n-r),Object(p.jsx)("li",{children:Object(p.jsx)(o.b,{to:"/groups/".concat(e.id),children:Object(p.jsxs)(S,{className:"group",children:[Object(p.jsx)(M,{date:e.date}),Object(p.jsxs)("div",{className:"group__description",children:[Object(p.jsx)("h2",{children:"".concat(e.name," (Total transaction amounting to Rs ").concat(e.worth,")")}),Object(p.jsx)("div",{className:"group__price",children:t})]})]})})})}),R=(r(111),function(e){var t=[];if(null!=e.user){var r=[],n=e.groups.filter((function(t){var n=!1;console.log(t);var a,o=Object(N.a)(t.members);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(s.memberId===e.user.email){n=!0,r.push(s);break}}}catch(c){o.e(c)}finally{o.f()}return n}));console.log(n),t=n.map((function(e,t){return Object(p.jsx)(P,{id:e._id,name:e.name,date:e.date,worth:e.worth,signedInUser:r[t]},e._id)}))}return Object(p.jsx)("div",{children:Object(p.jsx)(S,{className:"groups",children:t})})}),E=(r(32),function(e){var t=Object(m.g)();return Object(p.jsx)("li",{onClick:function(){"fa fa-sign-out"===e.iClassName?(e.onSignOut(),t.replace("/login")):"fa fa-lock"===e.iClassName&&e.onShowPasswordUpdateForm()},children:Object(p.jsxs)("a",{children:[Object(p.jsx)("span",{class:"icon",children:Object(p.jsx)("i",{className:e.iClassName,"aria-hidden":"true"})}),Object(p.jsx)("span",{class:"title",style:{color:"#fff",fontSize:"130%"},children:e.name})]})})}),G=r(7),A=r.n(G),T=function(){var e=document.querySelector(".alert");e&&e.parentElement.removeChild(e)},B=function(e,t){var r;T(),r="error"===e?"#a64452":"#4bb543";var n='<div class="alert alert--'.concat(e,'" style="display:block;margin:auto;text-align:center;font-size:24px;background-color:').concat(r,';width:50%">').concat(t,"</div>");document.querySelector("body").insertAdjacentHTML("afterbegin",n),window.setTimeout(T,5e3)},F=C.a.createContext({token:"",isLoggedIn:!1,login:function(e){},logout:function(){}}),H=function(e){Object(m.g)("/");var t=A.a.get("jwt"),r=Object(k.useState)(t),n=Object(c.a)(r,2),a=n[0],o=n[1],s={token:a,isLoggedIn:!!a,login:function(e){o(e)},logout:function(){o(null),A.a.remove("jwt"),B("success","Logged out successfully!")}};return Object(p.jsx)(F.Provider,{value:s,children:e.children})},V=F,W=function(e){var t=Object(k.useContext)(V),r=Object(k.useState)("Username"),n=Object(c.a)(r,2),a=n[0],o=n[1];return e.user&&"Username"===a&&o(e.user.username),Object(p.jsx)("div",{class:"navigation",children:Object(p.jsxs)("ul",{children:[Object(p.jsx)(E,{iClassName:"fa fa-user",name:"".concat(a)}),Object(p.jsx)(E,{iClassName:"fa fa-lock",name:"Reset Password",onShowPasswordUpdateForm:e.onShowPasswordUpdateForm}),Object(p.jsx)(E,{iClassName:"fa fa-sign-out",name:"Sign Out",onSignOut:t.logout})]})})},D=function(e){return Object(p.jsx)("div",{className:"toggle",onClick:e.toggleMenuHandler})},L=function(e){return Object(p.jsxs)(C.a.Fragment,{children:[Object(p.jsx)(W,{user:e.user,onShowPasswordUpdateForm:e.onShowPasswordUpdateForm}),Object(p.jsx)(D,{toggleMenuHandler:function(){var e=document.querySelector(".navigation"),t=document.querySelector(".toggle");e.classList.toggle("active"),t.classList.toggle("active")}})]})},U=(r(112),function(e){return Object(p.jsx)("div",{className:"new-group",children:Object(p.jsx)("button",{onClick:e.onShow,children:"Add New Group"})})}),Y=r(9),z=r(37),q=r.n(z),X=function(e){var t="".concat(q.a.modal," ").concat(e.className);return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:q.a.backdrop,onClick:e.onHide}),Object(p.jsx)(S,{className:t,style:e.style,children:e.children})]})},Q=r(51),J=r.n(Q),Z=r(52),K=r.n(Z),$=function(e){return Object(p.jsx)("button",{className:K.a.button,type:e.type||"button",children:e.children})},ee=(r(53),function(e){var t=Object(m.g)(),r=Object(k.useRef)(),n=Object(k.useRef)(),a=Object(k.useState)({groupNameInputIsValid:!0,totalAmountInputIsValid:!0,groupNameInputErrorMsg:"",totalAmountInputErrorMsg:""}),o=Object(c.a)(a,2),i=o[0],l=o[1],b=function(){var t=Object(s.a)(u.a.mark((function t(r,n){var a,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=A.a.get("jwt"))){t.next=15;break}return Object(Y.a)(a),t.prev=3,t.next=6,d()({method:"POST",url:"https://group-expense-manager-api.herokuapp.com/api/v1/groups/createGroupVerification",data:{groupName:r,groupWorth:n},headers:{authorization:"Bearer ".concat(a)}});case 6:o=t.sent,e.onInitialiseGroupId(o.data.data._id),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),B("error",t.t0.response.data.message);case 13:t.next=16;break;case 15:B("error","You are not logged in!");case 16:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,r){return t.apply(this,arguments)}}(),j=function(){var a=Object(s.a)(u.a.mark((function a(o){var s,c,i,d,m,j,h,f;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o.preventDefault(),s=r.current.value,c=n.current.value,i=!0,d=!0,m="",j="",h=/^[0-9a-zA-Z]+$/,""==s.trim()?(i=!1,m=Object(p.jsx)("p",{className:"error-text",children:"Please enter a non-empty group name!"})):s.trim().length>30?(i=!1,m=Object(p.jsx)("p",{className:"error-text",children:"The length of the group name should not exceed 30!"})):s.trim().match(h)||s.trim().includes(" ")||(i=!1,m=Object(p.jsx)("p",{className:"error-text",children:"The group name should be alphanumeric!"})),""==c.trim()?(d=!1,j=Object(p.jsx)("p",{className:"error-text",children:"Please enter amount field!"})):c.includes(".")&&(d=!1,j=Object(p.jsx)("p",{className:"error-text",children:"Please enter amount with no decimals!"})),i&&d){a.next=11;break}l({groupNameInputIsValid:i,totalAmountInputIsValid:d,groupNameInputErrorMsg:m,totalAmountInputErrorMsg:j}),a.next=26;break;case 11:for(l({groupNameInputIsValid:i,totalAmountInputIsValid:d,groupNameInputErrorMsg:m,totalAmountInputErrorMsg:j}),f=0;f<=1e8;f++);return r.current.value="",n.current.value="",a.prev=15,a.next=18,b(s,c);case 18:t.push("/create-new-group"),e.onSubmit(s,c),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(15),B("error","There was an error initialising the group formation!");case 25:e.onHide();case 26:case"end":return a.stop()}}),a,null,[[15,22]])})));return function(e){return a.apply(this,arguments)}}(),h=i.groupNameInputIsValid?"form-control":"form-control invalid",f=i.totalAmountInputIsValid?"form-control":"form-control invalid",O={position:"relative",border:"1px solid black",padding:"0.15rem",marginBottom:"0.9rem",justifyContent:"left",zIndex:10};return Object(p.jsx)(X,{className:J.a.input,onHide:e.onHide,children:Object(p.jsxs)("form",{onSubmit:j,style:{width:"90%",color:"black",maxWidth:"40rem",fontWeight:"bold"},children:[Object(p.jsxs)("div",{className:h,children:[Object(p.jsx)("input",{ref:r,id:"groupname",type:"text",autoComplete:"off",style:O,placeholder:"Group Name"}),!i.groupNameInputIsValid&&i.groupNameInputErrorMsg]}),Object(p.jsxs)("div",{className:f,children:[Object(p.jsx)("input",{ref:n,id:"amount",type:"number",min:"0",autoComplete:"off",style:O,placeholder:"Total Amount (Rs)"}),!i.groupNameInputIsValid&&i.groupNameInputErrorMsg,!i.totalAmountInputIsValid&&i.totalAmountInputErrorMsg]}),Object(p.jsx)($,{type:"submit",children:"Split Bill"})]})})}),te=r(39),re=r(54),ne=r.n(re),ae=r(55),oe=r.n(ae),se=function(e){return Object(p.jsx)("h1",{className:oe.a.header,children:"".concat(e.groupNameInput," (Rs.").concat(e.totalAmountInput," to be split)")})},ce=r(56),ie=r.n(ce),ue=function(e){return Object(p.jsx)("div",{className:ie.a.btnWrapper,children:Object(p.jsx)("button",{onClick:e.onShowNewMemberModal,children:"Add New Member"})})},le=r(22),de=r.n(le),me=r(57),pe=r.n(me),be=function(e){return Object(p.jsx)("div",{className:pe.a.btnWrapper,children:Object(p.jsx)("button",{onClick:e.onRemoveMember,children:e.children})})},je=r(58),he=r.n(je),fe=function(e){var t="disabled"==e.disabled;return Object(p.jsx)("div",{className:he.a.btnWrapper,children:Object(p.jsx)("button",{onClick:e.onAskForConfirmation,disabled:t,children:e.children})})},Oe=r(59),xe=r.n(Oe),ge=function(e){return Object(p.jsx)("div",{className:xe.a.btnWrapper,children:Object(p.jsx)("button",{onClick:e.onEdit,children:e.children})})},ve=r(60),_e=r.n(ve),Ie=function(e){return Object(p.jsx)("div",{className:"".concat(_e.a.card," ").concat(e.className),children:e.children})},ye=r(61),we=r.n(ye),Ne=function(e){return Object(p.jsx)("button",{className:we.a.button,type:e.type||"button",onClick:e.onClick,children:e.children})},ke=r(23),Ce=r.n(ke),Me=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:Ce.a.backdrop,onClick:e.onHide}),Object(p.jsxs)(Ie,{className:Ce.a.modal,children:[Object(p.jsx)("header",{className:Ce.a.header,children:Object(p.jsx)("h2",{children:e.title})}),Object(p.jsx)("div",{className:Ce.a.content,children:Object(p.jsx)("p",{style:{fontWeight:"bold"},children:e.message})}),Object(p.jsx)("footer",{className:Ce.a.actions,children:Object(p.jsx)(Ne,{onClick:e.onHide,children:"Okay"})})]})]})},Se=r(24),Pe=r.n(Se),Re=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:Pe.a.backdrop,onClick:e.onHideRemoveMemberConfirmationModal}),Object(p.jsxs)(Ie,{className:Pe.a.modal,children:[Object(p.jsx)("header",{className:Pe.a.header,children:Object(p.jsx)("h2",{children:e.title})}),Object(p.jsx)("div",{className:Pe.a.content,children:Object(p.jsx)("p",{style:{fontWeight:"bold"},children:e.message})}),Object(p.jsxs)("footer",{className:Pe.a.actions,children:[Object(p.jsx)(Ne,{onClick:e.onConfirmRemoveMember,children:"Confirm"}),Object(p.jsx)(Ne,{onClick:e.onHideRemoveMemberConfirmationModal,children:"Cancel"})]})]})]})},Ee=function(e){Object(m.g)();var t,r=Object(k.useRef)(),n=Object(k.useRef)(),a=Object(k.useState)(""),o=Object(c.a)(a,2),i=(o[0],o[1]),l=Object(k.useState)({myContributionInputIsValid:!0,currentlyPayingInputIsValid:!0,myContributionInputErrorMsg:"",currentlyPayingInputErrorMsg:""}),b=Object(c.a)(l,2),j=b[0],h=b[1],f=Object(k.useState)(""),O=Object(c.a)(f,2),x=O[0],g=O[1],v=Object(k.useState)(!1),_=Object(c.a)(v,2),I=_[0],y=_[1],w=Object(k.useState)(!1),N=Object(c.a)(w,2),C=N[0],M=N[1],S=function(){g("confirmed"),e.numberOfConfirmedMembersHandler(1),e.totalMyContributionHandler(Number(r.current.value)),e.totalCurrentlyPayingHandler(Number(n.current.value));var t={memberId:e.gmail,myShare:r.current.value,amountPaid:n.current.value};e.onAddGroupMemberObject(t)},P=function(){var t=Object(s.a)(u.a.mark((function t(r,n,a,o){var s,c,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s=A.a.get("jwt"))){t.next=18;break}return c=Object(Y.a)(s),console.log(c),t.prev=4,t.next=7,d()({method:"POST",url:"https://group-expense-manager-api.herokuapp.com/api/v1/users/sendMemberConfirmationEmail",data:{groupName:r,groupWorth:n,share:a,amountPaid:o,receiver:e.gmail,groupId:e.initialisedGroupId},headers:{authorization:"Bearer ".concat(s)}});case 7:if("success"!==(i=t.sent).data.status){t.next=11;break}return B("success","Member Confirmation Email successfully sent!"),t.abrupt("return",i.data.data.memberId);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),B("error",t.t0);case 16:t.next=19;break;case 18:B("error","You are not logged in to send the desired mail!");case 19:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e,r,n,a){return t.apply(this,arguments)}}(),R=function(){var a=Object(s.a)(u.a.mark((function a(o){var c,l,m,b,j,f,O,x,v;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o.preventDefault(),c=r.current.value,l=n.current.value,m=!0,b=!0,j="",f="",O=/^\d+$/,""==c.trim()?(m=!1,j=Object(p.jsx)("p",{className:"error-text",children:"Please enter the contribution field!"})):c.trim().match(O)||(m=!1,j=Object(p.jsx)("p",{className:"error-text",children:"Please ensure that the input is a whole number!"})),""==l.trim()?(b=!1,f=Object(p.jsx)("p",{className:"error-text",children:"Please enter the currently paying field!"})):l.trim().match(O)?"0"==l.trim()&&"0"==c.trim()&&(m=!1,j=Object(p.jsxs)("p",{className:"error-text",children:["My Contribution field and Currently Paying field cannot be 0 simultaneously!"," "]}),b=!1,f=Object(p.jsx)("p",{className:"error-text",children:"My Contribution field and Currently Paying field cannot be 0 simultaneously!"})):(b=!1,f=Object(p.jsx)("p",{className:"error-text",children:"Please ensure that the input is a whole number!"})),m&&b){a.next=12;break}h({myContributionInputIsValid:m,currentlyPayingInputIsValid:b,myContributionInputErrorMsg:j,currentlyPayingInputErrorMsg:f}),g(""),a.next=21;break;case 12:return h({myContributionInputIsValid:m,currentlyPayingInputIsValid:b,myContributionInputErrorMsg:j,currentlyPayingInputErrorMsg:f}),a.next=15,P(e.groupNameInput,e.totalAmountInput,c,l);case 15:for(x=a.sent,console.log(x),g("pending"),i(x),v=0;v<=1e8;v++);t=setInterval(Object(s.a)(u.a.mark((function r(){var n,a,o;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n=A.a.get("jwt"))){r.next=16;break}return a=Object(Y.a)(n),console.log(a),r.prev=4,r.next=7,d()({method:"POST",url:"https://group-expense-manager-api.herokuapp.com/api/v1/users/checkMemberConfirmationStatus",data:{groupId:e.initialisedGroupId,gmail:e.gmail},headers:{authorization:"Bearer ".concat(n)}});case 7:"success"===(o=r.sent).data.status&&1==o.data.data.isConfirmed&&(clearInterval(t),S()),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(4),B("error",r.t0);case 14:r.next=17;break;case 16:B("error","You are not logged in!");case 17:case"end":return r.stop()}}),r,null,[[4,11]])}))),2e4);case 21:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),E=function(){var t=Object(s.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(""),t.prev=1,t.next=4,d()({method:"PATCH",url:"https://group-expense-manager-api.herokuapp.com/api/v1/users/removeVerificationMember",data:{groupId:e.initialisedGroupId,gmail:e.gmail}});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),B("error",t.t0.response.data.message);case 9:e.numberOfConfirmedMembersHandler(-1),e.totalMyContributionHandler(-Number(r.current.value)),e.totalCurrentlyPayingHandler(-Number(n.current.value)),a={memberId:e.gmail,myShare:r.current.value,amountPaid:n.current.value},e.onDeleteGroupMemberObject(a),i("");case 15:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}(),G=function(){var t=Object(s.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.gmail!==e.signedInEmail){t.next=3;break}return y(!0),t.abrupt("return");case 3:return t.prev=3,t.next=6,d()({method:"PATCH",url:"http://127.0.0.1:8080/api/v1/users/removeVerificationMember",data:{groupId:e.initialisedGroupId,gmail:e.gmail}});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),B("error",t.t0.response.data.message);case 11:M(!0),a={memberId:e.gmail,myShare:r.current.value,amountPaid:n.current.value},e.onDeleteGroupMemberObject(a),i("");case 15:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(){return t.apply(this,arguments)}}(),T=j.myContributionInputIsValid?"form-control":"form-control invalid",F=j.currentlyPayingInputIsValid?"form-control":"form-control invalid",H=x&&"disabled",V=Object(p.jsx)("p",{className:"warning-message",children:"The confirmation request sent is yet not approved!"}),W=Object(p.jsx)("p",{className:"success-message",children:"Confirmed!"}),D="Do you confirm removing this member having gmailId (".concat(e.gmail,")?");return Object(p.jsxs)("div",{className:de.a.wrapper,children:[C&&Object(p.jsx)(Re,{title:"Confirmation Message",message:D,onHideRemoveMemberConfirmationModal:function(){M(!1)},onConfirmRemoveMember:function(){e.onRemoveGroupMember(e.gmail),e.numberOfConfirmedMembersHandler(-1),e.totalMyContributionHandler(-Number(r.current.value)),e.totalCurrentlyPayingHandler(-Number(n.current.value))}}),I&&Object(p.jsx)(Me,{title:"Error Message",message:"The user who initiated group formation cannot be removed!",onHide:function(){y(!1)}}),Object(p.jsx)("div",{className:de.a.title,children:e.gmail}),Object(p.jsxs)("div",{className:de.a.form,children:[Object(p.jsxs)("div",{className:T,children:[Object(p.jsx)("label",{children:"My Contribution (in Rs.):"}),Object(p.jsx)("input",{ref:r,disabled:H,type:"number",className:de.a.input,min:"0",autoComplete:"off"}),!j.myContributionInputIsValid&&j.myContributionInputErrorMsg]}),Object(p.jsxs)("div",{className:F,children:[Object(p.jsx)("label",{children:"Currently Paying (in Rs.):"}),Object(p.jsx)("input",{ref:n,disabled:H,type:"number",className:de.a.input,min:"0",autoComplete:"off"}),!j.currentlyPayingInputIsValid&&j.currentlyPayingInputErrorMsg]}),Object(p.jsx)(fe,{onAskForConfirmation:R,disabled:H,children:"Ask for Confirmation"}),"pending"==x&&V,"confirmed"==x&&W,Object(p.jsx)(ge,{onEdit:E,children:"Edit"}),Object(p.jsx)(be,{onRemoveMember:G,children:"Remove Member"})]})]})},Ge=function(e){var t=e.DUMMY_MEMBERS.map((function(t){return Object(p.jsx)(Ee,{onAddGroupMemberObject:e.onAddGroupMemberObject,onDeleteGroupMemberObject:e.onDeleteGroupMemberObject,numberOfConfirmedMembersHandler:e.numberOfConfirmedMembersHandler,totalMyContributionHandler:e.totalMyContributionHandler,totalCurrentlyPayingHandler:e.totalCurrentlyPayingHandler,onRemoveGroupMember:e.onRemoveGroupMember,gmail:t,initialisedGroupId:e.initialisedGroupId,totalAmountInput:e.totalAmountInput,groupNameInput:e.groupNameInput,signedInEmail:e.signedInEmail},t)}));return Object(p.jsx)("div",{children:t})},Ae=r(62),Te=r.n(Ae),Be=(r(63),function(e){Object(m.g)();var t=Object(k.useRef)(),r=Object(k.useState)({emailIdInputIsValid:!0,emailIdInputErrorMsg:""}),n=Object(c.a)(r,2),a=n[0],o=n[1],i=function(){var e=Object(s.a)(u.a.mark((function e(t){var r,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=A.a.get("jwt"))){e.next=16;break}return n=Object(Y.a)(r),console.log(n),e.prev=4,e.next=7,d()({method:"POST",url:"https://group-expense-manager-api.herokuapp.com/api/v1/users/isRegistered",data:{emailId:t},headers:{authorization:"Bearer ".concat(r)}});case 7:return a=e.sent,e.abrupt("return",a.data.data.isRegistered);case 11:e.prev=11,e.t0=e.catch(4),B("error",e.t0.response.data.message);case 14:e.next=17;break;case 16:B("error","You are not logged in!");case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var r=Object(s.a)(u.a.mark((function r(n){var a,s,c,l;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.preventDefault(),a=t.current.value,s=!0,c="",""!=a.trim()){r.next=8;break}s=!1,c=Object(p.jsx)("p",{className:"error-text",children:"Please enter a non-empty email Id!"}),r.next=18;break;case 8:if(!e.DUMMY_MEMBERS.find((function(e){return e==a}))){r.next=13;break}s=!1,c=Object(p.jsx)("p",{className:"error-text",children:"The given email is already included in the current group!"}),r.next=18;break;case 13:return r.next=15,i(a.trim());case 15:if(r.sent){r.next=18;break}s=!1,c=Object(p.jsx)("p",{className:"error-text",children:"The given email Id is not registered!"});case 18:if(s){for(o({emailIdInputIsValid:s,emailIdInputErrorMsg:c}),l=0;l<=1e8;l++);e.onAddNewMember(a),t.current.value="",e.onHide()}else o({emailIdInputIsValid:s,emailIdInputErrorMsg:c});case 19:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),b=a.emailIdInputIsValid?"form-control":"form-control invalid";return Object(p.jsx)(X,{className:Te.a.input,onHide:e.onHide,children:Object(p.jsxs)("form",{onSubmit:l,children:[Object(p.jsxs)("div",{className:b,children:[Object(p.jsx)("label",{style:{position:"absolute",fontSize:"120%",fontWeight:"bold",marginTop:"0.2rem",marginLeft:"-25%",marginBottom:"0.7rem"},htmlFor:"emailId",children:"Enter Email"}),Object(p.jsx)("input",{ref:t,id:"emailId",type:"email",autoComplete:"off",style:{position:"relative",border:"1px solid black",padding:"0.15rem",marginBottom:"0.9rem"}}),!a.emailIdInputIsValid&&a.emailIdInputErrorMsg]}),Object(p.jsx)($,{type:"submit",children:"Add"})]})})}),Fe=r(64),He=r.n(Fe),Ve=function(e){return Object(p.jsx)("div",{className:He.a.btnWrapper,children:Object(p.jsx)("button",{onClick:e.onCreateGroup,children:e.children})})},We=r(65),De=r.n(We),Le=function(e){return Object(p.jsx)("div",{className:De.a.btnWrapper,children:Object(p.jsx)("button",{onClick:e.onShow,children:e.children})})},Ue=r(25),Ye=r.n(Ue),ze=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:Ye.a.backdrop,onClick:e.HideCreateGroupErrorModal}),Object(p.jsxs)(Ie,{className:Ye.a.modal,children:[Object(p.jsx)("header",{className:Ye.a.header,children:Object(p.jsx)("h2",{children:e.title})}),Object(p.jsx)("div",{className:Ye.a.content,children:Object(p.jsx)("p",{style:{fontWeight:"bold"},children:e.message})}),Object(p.jsx)("footer",{className:Ye.a.actions,children:Object(p.jsx)(Ne,{onClick:e.HideCreateGroupErrorModal,children:"Okay"})})]})]})},qe=r(26),Xe=r.n(qe),Qe=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:Xe.a.backdrop,onClick:e.onCancel}),Object(p.jsxs)(Ie,{className:Xe.a.modal,children:[Object(p.jsx)("header",{className:Xe.a.header,children:Object(p.jsx)("h2",{children:e.title})}),Object(p.jsx)("div",{className:Xe.a.content,children:Object(p.jsx)("p",{style:{fontWeight:"bold"},children:e.message})}),Object(p.jsxs)("footer",{className:Xe.a.actions,children:[Object(p.jsx)(Ne,{onClick:e.onConfirm,children:"Confirm"}),Object(p.jsx)(Ne,{onClick:e.onCancel,children:"Cancel"})]})]})]})},Je=r(27),Ze=r.n(Je),Ke=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:Ze.a.backdrop,onClick:e.onHide}),Object(p.jsxs)(Ie,{className:Ze.a.modal,children:[Object(p.jsx)("header",{className:Ze.a.header,children:Object(p.jsx)("h2",{children:e.title})}),Object(p.jsxs)("div",{className:Ze.a.content,children:[Object(p.jsx)("p",{style:{fontWeight:"bold"},children:e.message1}),Object(p.jsx)("p",{className:"error-text",style:{fontWeight:"bold"},children:e.message2})]}),Object(p.jsxs)("footer",{className:Ze.a.actions,children:[Object(p.jsx)(Ne,{onClick:e.onConfirm,children:"Confirm"}),Object(p.jsx)(Ne,{onClick:e.onHide,children:"Cancel"})]})]})]})},$e=function(e){var t=Object(m.g)("/"),r=Object(k.useState)([e.user.email]),n=Object(c.a)(r,2),a=n[0],o=n[1],i=Object(k.useState)([]),l=Object(c.a)(i,2),b=l[0],j=l[1],h=Object(k.useState)(!1),f=Object(c.a)(h,2),O=f[0],x=f[1],g=Object(k.useState)(!1),v=Object(c.a)(g,2),_=v[0],I=v[1],y=Object(k.useState)(!1),w=Object(c.a)(y,2),N=w[0],C=w[1],M=Object(k.useState)(0),S=Object(c.a)(M,2),P=S[0],R=S[1],E=Object(k.useState)(0),G=Object(c.a)(E,2),T=G[0],F=G[1],H=Object(k.useState)(0),V=Object(c.a)(H,2),W=V[0],D=V[1],L=Object(k.useState)(!1),U=Object(c.a)(L,2),z=U[0],q=U[1],X=Object(k.useState)(""),Q=Object(c.a)(X,2),J=Q[0],Z=Q[1],K=Object(k.useState)(""),$=Object(c.a)(K,2),ee=$[0],re=$[1],ae=Object(k.useState)(!1),oe=Object(c.a)(ae,2),ce=oe[0],ie=oe[1],le=function(){x(!1)},de=function(){var r=Object(s.a)(u.a.mark((function r(){var n,a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(C(!1),!(n=A.a.get("jwt"))){r.next=16;break}return a=Object(Y.a)(n),console.log(a),r.prev=5,r.next=8,d()({method:"POST",url:"https://group-expense-manager-api.herokuapp.com/api/v1/groups/createNewGroup",data:{groupId:e.initialisedGroupId,email:e.user.email},headers:{authorization:"Bearer ".concat(n)}});case 8:"success"===r.sent.data.status&&(B("success","Group created successfully!"),t.push("/groups")),r.next=14;break;case 12:r.prev=12,r.t0=r.catch(5);case 14:r.next=17;break;case 16:B("error","You are not logged in!");case 17:case"end":return r.stop()}}),r,null,[[5,12]])})));return function(){return r.apply(this,arguments)}}(),me=function(){var r=Object(s.a)(u.a.mark((function r(){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.replace("/groups"),r.prev=1,r.next=4,d()({method:"DELETE",url:"http://127.0.0.1:8080/api/v1/groups/deleteGroupVerification/".concat(e.initialisedGroupId)});case 4:r.sent,r.next=9;break;case 7:r.prev=7,r.t0=r.catch(1);case 9:case"end":return r.stop()}}),r,null,[[1,7]])})));return function(){return r.apply(this,arguments)}}(),pe=!0,be="";0==z?(pe=!1,be="All the users' forms are not confirmed!"):"equal"!=J?(pe=!1,"greater"==J?be="The sum of all My Contribution field cannot exceed ".concat(e.totalAmountInput):"lesser"==J&&(be="The sum of all My Contribution field cannot be less than ".concat(e.totalAmountInput))):"equal"!=ee&&(pe=!1,"greater"==ee?be="The sum of all Currently Paying field cannot exceed ".concat(e.totalAmountInput):"lesser"==ee&&(be="The sum of all Currently Paying field cannot be less than ".concat(e.totalAmountInput)));return Object(p.jsxs)("div",{className:ne.a.container,children:[N&&Object(p.jsx)(Qe,{title:"Confirmation Message",message:"Do you confirm creating new group with given information?",onConfirm:de,onCancel:function(){C(!1)}}),_&&!pe&&Object(p.jsx)(ze,{HideCreateGroupErrorModal:function(){I(!1)},title:"Error Message",message:be}),O&&Object(p.jsx)(Be,{DUMMY_MEMBERS:a,Dummy_Users:e.Dummy_Users,onAddNewMember:function(e){o((function(t){return[].concat(Object(te.a)(t),[e])}))},onHide:le}),ce&&Object(p.jsx)(Ke,{title:"Confirmation Message",message1:"Do you confirm cancel splitting?",message2:"(All the entered data in the forms will be lost!)",onHide:function(){ie(!1)},onConfirm:me}),Object(p.jsx)(se,{groupNameInput:e.groupNameInput,totalAmountInput:e.totalAmountInput}),Object(p.jsx)(ue,{onShowNewMemberModal:function(){x(!0)},onHide:le}),Object(p.jsx)(Ge,{DUMMY_MEMBERS:a,numberOfConfirmedMembersHandler:function(e){R((function(t){return t+e}))},totalMyContributionHandler:function(e){F((function(t){return t+e}))},totalCurrentlyPayingHandler:function(e){D((function(t){return t+e}))},onRemoveGroupMember:function(e){var t=a.filter((function(t){return t!=e}));o(t)},onAddGroupMemberObject:function(e){j((function(t){return[].concat(Object(te.a)(t),[e])}))},onDeleteGroupMemberObject:function(e){j(b.filter((function(t){return t!==e})))},initialisedGroupId:e.initialisedGroupId,totalAmountInput:e.totalAmountInput,groupNameInput:e.groupNameInput,signedInEmail:e.user.email}),Object(p.jsx)(Ve,{onCreateGroup:function(){if(I(!0),P===a.length){if(q(!0),Number(e.totalAmountInput.trim())==T)Z("equal");else{if(Number(e.totalAmountInput.trim())<T)return void Z("greater");if(Number(e.totalAmountInput.trim())>T)return void Z("lesser")}if(Number(e.totalAmountInput.trim())==W)re("equal");else{if(Number(e.totalAmountInput.trim())<W)return void re("greater");if(Number(e.totalAmountInput.trim())>W)return void re("lesser")}C(!0)}else q(!1)},children:"Create Group"}),Object(p.jsx)(Le,{onShow:function(){ie(!0)},children:"Cancel Splitting"})]})},et=(r(17),r(129)),tt=function(e){var t=Object(m.g)(),r=Object(et.a)(["jwt"]),n=Object(c.a)(r,2),a=(n[0],n[1]),o=Object(k.useRef)(),i=Object(k.useRef)(),l=Object(k.useContext)(V),b=function(){var e=Object(s.a)(u.a.mark((function e(r,n){var o,s,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({method:"POST",url:"https://group-expense-manager-api.herokuapp.com/api/v1/users/login",data:{email:r,password:n}});case 3:o=e.sent,console.log(o),"success"===o.data.status&&(B("success","Signed in successfully!"),(s=new Date).setTime(s.getTime()+2592e6),c={path:"/",expires:s},a("jwt",o.data.token,c),i=A.a.get("jwt"),l.login(i),t.replace("/groups"),window.location.reload(!0)),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Signup error!!!!!!"),console.log(e.t0),B("error",e.t0.response.data.message);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(p.jsx)(k.Fragment,{children:Object(p.jsxs)("form",{action:"#",className:"sign-in-form",onSubmit:function(e){e.preventDefault();var t=o.current.value.trim(),r=i.current.value.trim();b(t,r)},children:[Object(p.jsx)("h2",{className:"title",children:"Sign in"}),Object(p.jsxs)("div",{className:"input-field",children:[Object(p.jsx)("i",{className:"fas fa-user"}),Object(p.jsx)("input",{type:"email",placeholder:"Email",ref:o})]}),Object(p.jsxs)("div",{className:"input-field",children:[Object(p.jsx)("i",{className:"fas fa-lock"}),Object(p.jsx)("input",{type:"password",placeholder:"Password",ref:i})]}),Object(p.jsx)("input",{type:"submit",value:"Login",className:"btn solid"}),Object(p.jsx)("a",{style:{color:"black"},onClick:e.onShowPasswordResetEmailFormModal,children:"Forgot Password?"}),Object(p.jsx)("a",{style:{position:"relative",color:"black",marginTop:"2%",textDecoration:"underline"},className:"sign-up-link",onClick:function(){document.querySelector(".container").classList.add("sign-up-mode")},children:"Sign Up"})]})})},rt=function(){Object(m.g)();var e=Object(k.useRef)(),t=Object(k.useRef)(),r=Object(k.useRef)(),n=Object(k.useRef)(),a=Object(k.useRef)(),o=Object(k.useRef)(),c=function(){var e=Object(s.a)(u.a.mark((function e(t,r,n,a,o,s){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({method:"POST",url:"https://group-expense-manager-api.herokuapp.com/api/v1/users/signup",data:{name:t,username:r,email:n,contactNo:a,password:o,passwordConfirm:s}});case 3:"PENDING"===(c=e.sent).data.status&&B("success",c.data.message),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Signup error!!!!!!"),console.log(e.t0.response.data.message),B("error",e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,n,a,o,s){return e.apply(this,arguments)}}();return Object(p.jsxs)("form",{action:"#",className:"sign-up-form",onSubmit:function(s){s.preventDefault();var i=e.current.value.trim(),u=t.current.value.trim(),l=r.current.value.trim(),d=n.current.value.trim(),m=a.current.value.trim(),p=o.current.value.trim();c(i,u,l,d,m,p)},children:[Object(p.jsx)("h2",{className:"title",children:"Sign up"}),Object(p.jsxs)("div",{className:"input-field",children:[Object(p.jsx)("i",{className:"fas fa-user"}),Object(p.jsx)("input",{ref:e,type:"text",placeholder:"Name",autoComplete:"on"})]}),Object(p.jsxs)("div",{className:"input-field",children:[Object(p.jsx)("i",{className:"fas fa-user"}),Object(p.jsx)("input",{ref:t,type:"text",placeholder:"Generate Unique Username",autoComplete:"on"})]}),Object(p.jsxs)("div",{className:"input-field",children:[Object(p.jsx)("i",{className:"fas fa-envelope"}),Object(p.jsx)("input",{ref:r,type:"email",placeholder:"Email",autoComplete:"on"})]}),Object(p.jsxs)("div",{className:"input-field",children:[Object(p.jsx)("i",{className:"fas fa-phone-alt"}),Object(p.jsx)("input",{ref:n,placeholder:"Mobile No"})]}),Object(p.jsxs)("div",{className:"input-field",children:[Object(p.jsx)("i",{className:"fas fa-lock"}),Object(p.jsx)("input",{ref:a,type:"password",placeholder:"Password",autoComplete:"on"})]}),Object(p.jsxs)("div",{className:"input-field",children:[Object(p.jsx)("i",{className:"fas fa-lock"}),Object(p.jsx)("input",{ref:o,type:"password",placeholder:"Confirm Password",autoComplete:"on"})]}),Object(p.jsx)("input",{type:"submit",className:"btn",value:"Sign up"})]})},nt=function(e){return Object(p.jsx)("div",{className:"forms-container",children:Object(p.jsxs)("div",{className:"signin-signup",children:[Object(p.jsx)(tt,{onShowPasswordResetEmailFormModal:e.onShowPasswordResetEmailFormModal}),Object(p.jsx)(rt,{})]})})},at=r.p+"static/media/log.789e0432.svg",ot=function(){return Object(p.jsxs)("div",{className:"panel left-panel",children:[Object(p.jsx)("p",{className:"app-name",style:{fontSize:"165%"},children:"Group Expense Manager"}),Object(p.jsxs)("div",{className:"content",children:[Object(p.jsx)("h3",{children:"New here ?"}),Object(p.jsx)("p",{style:{fontSize:"125%"},children:"Get registered in order to get started with creating your own group expenses"}),Object(p.jsx)("button",{className:"btn transparent",id:"sign-up-btn",onClick:function(){document.querySelector(".container").classList.add("sign-up-mode")},children:"Sign up"})]}),Object(p.jsx)("img",{src:at,className:"image",alt:""})]})},st=r.p+"static/media/register.477c852a.svg",ct=function(){var e=function(){document.querySelector(".container").classList.remove("sign-up-mode")};return Object(p.jsxs)("div",{className:"panel right-panel",children:[Object(p.jsx)("h1",{className:"app-name",style:{fontSize:"165%"},children:"Group Expense Manager"}),Object(p.jsxs)("div",{className:"content",children:[Object(p.jsx)("h3",{children:"One of us ?"}),Object(p.jsx)("p",{style:{fontSize:"125%"},children:"A place where you can create your group expenses and settle up those as well!"}),Object(p.jsx)("button",{className:"btn transparent",id:"sign-in-btn",onClick:e,children:"Sign in"})]}),Object(p.jsx)("img",{src:st,className:"image",alt:""}),Object(p.jsx)("a",{style:{position:"relative",color:"white",marginLeft:"15%",marginBottom:"8%",textDecoration:"underline",justifyContent:"center",fontSize:"100%"},className:"sign-up-link",onClick:e,children:"Sign In"})]})},it=function(){return Object(p.jsxs)("div",{className:"panels-container",children:[Object(p.jsx)(ot,{}),Object(p.jsx)(ct,{})]})},ut=r(66),lt=r.n(ut),dt=function(e){Object(m.g)();var t=Object(k.useRef)(),r=Object(k.useState)({emailIdInputIsValid:!0,emailIdInputErrorMsg:""}),n=Object(c.a)(r,2),a=n[0],o=n[1],i=function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({method:"POST",url:"https://group-expense-manager-api.herokuapp.com/api/v1/users/forgotPassword",data:{email:t}});case 3:"success"===e.sent.data.status&&B("success","Email has been sent!! Kindly activate your account within 10 minutes."),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),B("error",e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(s.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({method:"POST",url:"https://group-expense-manager-api.herokuapp.com/api/v1/users/isRegistered",data:{emailId:t}});case 3:return r=e.sent,e.abrupt("return",r.data.data.isRegistered);case 7:e.prev=7,e.t0=e.catch(0),B("error",e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var r=Object(s.a)(u.a.mark((function r(n){var a,s,c,d;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.preventDefault(),a=t.current.value,s=!0,c="",""!=a.trim()){r.next=8;break}s=!1,c=Object(p.jsx)("p",{className:"error-text",children:"Please enter a non-empty email Id!"}),r.next=13;break;case 8:return r.next=10,l(a.trim());case 10:if(r.sent){r.next=13;break}s=!1,c=Object(p.jsx)("p",{className:"error-text",children:"The given email Id is not registered!"});case 13:if(s){for(o({emailIdInputIsValid:s,emailIdInputErrorMsg:c}),d=0;d<=1e8;d++);i(a.trim()),t.current.value="",e.onHide()}else o({emailIdInputIsValid:s,emailIdInputErrorMsg:c});case 14:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),j=a.emailIdInputIsValid?"form-control":"form-control invalid";return Object(p.jsx)(X,{className:lt.a.input,onHide:e.onHide,children:Object(p.jsxs)("form",{onSubmit:b,children:[Object(p.jsxs)("div",{className:j,children:[Object(p.jsx)("label",{style:{position:"absolute",fontSize:"120%",fontWeight:"bold",marginTop:"0.2rem",marginLeft:"-25%",marginBottom:"0.7rem"},htmlFor:"emailId",children:"Enter Email"}),Object(p.jsx)("input",{ref:t,id:"emailId",type:"email",autoComplete:"off",style:{position:"relative",border:"1px solid black",padding:"0.15rem",marginBottom:"0.9rem"}}),!a.emailIdInputIsValid&&a.emailIdInputErrorMsg]}),Object(p.jsx)($,{type:"submit",children:"Proceed"})]})})},mt=function(){var e=Object(k.useState)(!1),t=Object(c.a)(e,2),r=t[0],n=t[1];return Object(p.jsxs)("div",{className:"container",children:[r&&Object(p.jsx)(dt,{onHide:function(){n(!1)}}),Object(p.jsx)(nt,{onShowPasswordResetEmailFormModal:function(){n(!0)}}),Object(p.jsx)(it,{})]})},pt=(r(113),r(114),function(e){var t,r,n=e.myShare,a=e.totalAmountPaid,o=e.amountReceived,s=e.name;return n+o>a?(r="Owe Rs ".concat(n-a),t="status-unpaid"):n+o===a?(r="Settled Up",t="status-paid"):(r="Owed Rs ".concat(a-(n+o)),t="status-pending"),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"".concat(s)}),Object(p.jsx)("td",{class:"amount",children:"Rs. ".concat(n)}),Object(p.jsx)("td",{class:"amount",children:"Rs. ".concat(a)}),Object(p.jsx)("td",{class:"amount",children:"Rs. ".concat(o)}),Object(p.jsx)("td",{children:Object(p.jsx)("p",{class:"status ".concat(t),children:r})})]})}),bt=(r(115),function(e){var t,r=Object(m.i)().groupId,n=Object(k.useState)(null),a=Object(c.a)(n,2),o=a[0],i=a[1],l=Object(k.useState)(null),b=Object(c.a)(l,2),j=b[0],h=b[1],f=Object(k.useCallback)(Object(s.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=A.a.get("jwt"))){e.next=16;break}return n=Object(Y.a)(t),console.log(n),e.prev=4,e.next=7,d()({method:"GET",url:"https://group-expense-manager-api.herokuapp.com/api/v1/groups/".concat(r),headers:{authorization:"Bearer ".concat(t)}});case 7:"success"===(a=e.sent).data.status&&(console.log("hello"),i(a.data.data.group),console.log(a.data.data.group)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),B("error",e.t0);case 14:e.next=17;break;case 16:B("error","You are not logged in to access the group!");case 17:case"end":return e.stop()}}),e,null,[[4,11]])}))),[]),O=Object(k.useCallback)(Object(s.a)(u.a.mark((function e(){var t,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=A.a.get("jwt"))){e.next=16;break}return r=Object(Y.a)(t),console.log(r),e.prev=4,e.next=7,d()({method:"GET",url:"https://group-expense-manager-api.herokuapp.com/api/v1/users/".concat(r.id),headers:{authorization:"Bearer ".concat(t)}});case 7:"success"===(n=e.sent).data.status&&(console.log(n.data.data.user),h(n.data.data.user)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),B("error",e.t0);case 14:e.next=17;break;case 16:B("error","You are not logged in to access the group!");case 17:case"end":return e.stop()}}),e,null,[[4,11]])}))),[]);Object(k.useEffect)((function(){O(),f()}),[O,f]);var x=[],g=[],v=[];if(o&&j){t=o.members.find((function(e){return e.memberId===j.email})),x=o.members.filter((function(e){return e.memberId!==j.email})),g=[Object(p.jsx)(pt,{id:t._id,name:"You",myShare:t.myShare,amountPaid:t.amountPaid,totalAmountPaid:t.totalAmountPaid,amountReceived:t.amountReceived},t._id)],v=x.map((function(e){return Object(p.jsx)(pt,{id:e._id,name:e.memberId,myShare:e.myShare,amountPaid:e.amountPaid,totalAmountPaid:e.totalAmountPaid,amountReceived:e.amountReceived},e._id)}));var _,I=Object(N.a)(v);try{for(I.s();!(_=I.n()).done;){var y=_.value;g.push(y)}}catch(w){I.e(w)}finally{I.f()}}return Object(p.jsx)("div",{className:"members",children:Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Share"}),Object(p.jsx)("th",{children:"Amount Paid"}),Object(p.jsx)("th",{children:"Amount Received"}),Object(p.jsx)("th",{children:"Status"})]})}),Object(p.jsx)("tbody",{children:g})]})})}),jt=(r(116),function(e){var t=e.name,r=e.email,n=e.contactNo;return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"".concat(t)}),Object(p.jsx)("td",{children:"".concat(r)}),Object(p.jsx)("td",{children:"".concat(n)})]})}),ht=(r(117),function(e){var t=Object(m.i)().groupId,r=Object(k.useState)(null),n=Object(c.a)(r,2),a=n[0],o=n[1],i=Object(k.useState)(null),l=Object(c.a)(i,2),b=l[0],j=l[1],h=Object(k.useCallback)(Object(s.a)(u.a.mark((function e(){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=A.a.get("jwt"))){e.next=15;break}return Object(Y.a)(r),e.prev=3,e.next=6,d()({method:"GET",url:"https://group-expense-manager-api.herokuapp.com/api/v1/groups/".concat(t),headers:{authorization:"Bearer ".concat(r)}});case 6:"success"===(n=e.sent).data.status&&o(n.data.data.group),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),B("error",e.t0.response.data.message);case 13:e.next=16;break;case 15:B("error","You are not logged in to access the group!");case 16:case"end":return e.stop()}}),e,null,[[3,10]])}))),[]),f=Object(k.useCallback)(Object(s.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=A.a.get("jwt"))){e.next=15;break}return Object(Y.a)(t),e.prev=3,e.next=6,d()({method:"GET",url:"https://group-expense-manager-api.herokuapp.com/api/v1/users/getAllUsers",headers:{authorization:"Bearer ".concat(t)}});case 6:"success"===(r=e.sent).data.status&&j(r.data.data.users),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),B("error",e.t0.response.data.message);case 13:e.next=16;break;case 15:B("error","You are not logged in to access the group!");case 16:case"end":return e.stop()}}),e,null,[[3,10]])}))),[]);Object(k.useEffect)((function(){f(),h()}),[f,h]);var O=[];return a&&b&&(O=a.members.map((function(e){var t=b.find((function(t){return t.email===e.memberId})),r=t.name,n=t.email,a=t.contactNo;return Object(p.jsx)(jt,{id:e._id,name:r,email:n,contactNo:a},e._id)}))),Object(p.jsx)("div",{className:"members",children:Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Email Id"}),Object(p.jsx)("th",{children:"Contact No"})]})}),Object(p.jsx)("tbody",{children:O})]})})}),ft=(r(118),r(119),r(120),function(e){var t=new Date(e.date),r=t.toLocaleString("en-US",{month:"long"}),n=t.toLocaleString("en-US",{day:"2-digit"}),a=t.getFullYear();return Object(p.jsxs)("div",{className:"log-date",children:[Object(p.jsx)("div",{className:"log-date__month",children:r}),Object(p.jsx)("div",{className:"log-date__year",children:a}),Object(p.jsx)("div",{className:"log-date__day",children:n})]})}),Ot=function(e){return Object(p.jsxs)(S,{className:"log",children:[Object(p.jsx)(ft,{date:e.date}),Object(p.jsx)("div",{className:"log__description",children:Object(p.jsx)("h2",{children:e.logText})})]})},xt=(r(121),function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"".concat(e.memberId)}),Object(p.jsx)("td",{class:"amount",children:"Rs. ".concat(e.myShare)}),Object(p.jsx)("td",{class:"amount",children:"Rs. ".concat(e.amountPaid)})]})}),gt=function(e){var t,r=Object(m.i)().groupId,n=Object(k.useState)(null),a=Object(c.a)(n,2),o=a[0],i=a[1],l=Object(k.useState)(null),b=Object(c.a)(l,2),j=b[0],h=b[1],f=Object(k.useCallback)(Object(s.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=A.a.get("jwt"))){e.next=16;break}return n=Object(Y.a)(t),console.log(n),e.prev=4,e.next=7,d()({method:"GET",url:"https://group-expense-manager-api.herokuapp.com/api/v1/groups/".concat(r),headers:{authorization:"Bearer ".concat(t)}});case 7:"success"===(a=e.sent).data.status&&(console.log("hello"),i(a.data.data.group),console.log(a.data.data.group)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),B("error",e.t0);case 14:e.next=17;break;case 16:B("error","You are not logged in to access the group!");case 17:case"end":return e.stop()}}),e,null,[[4,11]])}))),[]),O=Object(k.useCallback)(Object(s.a)(u.a.mark((function e(){var t,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=A.a.get("jwt"))){e.next=16;break}return r=Object(Y.a)(t),console.log(r),e.prev=4,e.next=7,d()({method:"GET",url:"https://group-expense-manager-api.herokuapp.com/api/v1/users/".concat(r.id),headers:{authorization:"Bearer ".concat(t)}});case 7:"success"===(n=e.sent).data.status&&(console.log("nhiiiiiiiiiii"),console.log(n.data.data.user),h(n.data.data.user)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),B("error",e.t0);case 14:e.next=17;break;case 16:B("error","You are not logged in to access the group!");case 17:case"end":return e.stop()}}),e,null,[[4,11]])}))),[]);Object(k.useEffect)((function(){O(),f()}),[O,f]);var x=[],g=[];if(o&&j){for(var v=o.logs.length-1;v>0;v--){var _=Object(p.jsx)(Ot,{date:o.logs[v].date,logText:o.logs[v].logText});g.push(_)}t=Object(p.jsx)(Ot,{date:o.logs[0].date,logText:o.logs[0].logText}),x=o.members.map((function(e){return Object(p.jsx)(xt,{memberId:e.memberId,myShare:e.myShare,amountPaid:e.amountPaid})}))}return Object(p.jsxs)("div",{children:[g,t,Object(p.jsx)("div",{className:"logs",children:Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Member Id"}),Object(p.jsx)("th",{children:"Share"}),Object(p.jsx)("th",{children:"Amount Paid"})]})}),Object(p.jsx)("tbody",{children:x})]})})]})},vt=(r(122),function(e){var t=Object(k.useState)(""),r=Object(c.a)(t,2),n=r[0],a=r[1],o=Object(k.useState)(""),s=Object(c.a)(o,2),i=s[0],u=s[1];return e.debtMessage==n&&i==e.debtStatusClassName||(a(e.debtMessage),u(e.debtStatusClassName)),Object(p.jsx)("div",{class:"debt-status ".concat(i),children:n})}),_t=(r(123),r(124),r(67)),It=r.n(_t),yt=(r(68),r(69)),wt=r.n(yt),Nt=function(e){return Object(p.jsx)("div",{className:wt.a.btnWrapper,children:Object(p.jsx)("button",{type:e.type||"button",onClick:e.onHide,style:{height:"140%",borderRadius:"8px",marginBottom:"10%"},children:e.children})})},kt=function(e){var t=Object(m.i)().groupId,r=Object(k.useRef)(),n=Object(k.useState)({amountRemindedInputIsValid:!0,amountRemindedInputErrorMsg:""}),a=Object(c.a)(n,2),o=a[0],i=a[1],l=function(){var e=Object(s.a)(u.a.mark((function e(r,n,a){var o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=A.a.get("jwt"))){e.next=16;break}return s=Object(Y.a)(o),console.log(s),e.prev=4,e.next=7,d()({method:"POST",url:"https://group-expense-manager-api.herokuapp.com/api/v1/users/sendPaymentReminderEmail",data:{sender:r,receiver:n,amount:a,groupId:t},headers:{authorization:"Bearer ".concat(o)}});case 7:"success"===e.sent.data.status&&B("success","Payment Reminder Email successfully sent!"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),B("error",e.t0.response.data.message);case 14:e.next=17;break;case 16:B("error","You are not logged in to send the desired mail!");case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,r,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(s.a)(u.a.mark((function e(t,r){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=A.a.get("jwt"))){e.next=15;break}return a=Object(Y.a)(n),console.log(a),e.prev=4,e.next=7,d()({method:"PATCH",url:"https://group-expense-manager-api.herokuapp.com/api/v1/groups/pushLogToGroupDocument",data:{reminderMessage:t,groupId:r},headers:{authorization:"Bearer ".concat(n)}});case 7:"success"===e.sent.data.status&&B("success","Reminder message successfully saved to logs!"),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:e.next=16;break;case 15:B("error","You are not logged in to send the desired mail!");case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,r){return e.apply(this,arguments)}}(),j=o.amountRemindedInputIsValid?"form-control":"form-control invalid";return Object(p.jsx)(X,{className:It.a.input,onHide:e.onHide,children:Object(p.jsxs)("form",{onSubmit:function(n){n.preventDefault();var a=r.current.value,o=!0,s="";if(""==a.trim()?(o=!1,s=Object(p.jsx)("p",{className:"error-text",children:"Please enter amount field!"})):a.trim().match(/^\d+$/)?e.groupMemberObj.myShare-e.groupMemberObj.totalAmountPaid<1*a?(o=!1,s=Object(p.jsx)("p",{className:"error-text",children:"The amount inputted cannot exceed the amount the person owe to the group!"})):e.signedInMember.totalAmountPaid-e.signedInMember.amountReceived-e.signedInMember.myShare<1*a&&(o=!1,s=Object(p.jsx)("p",{className:"error-text",children:"The amount inputted exceeded the amount you are actually owed!"})):(o=!1,s=Object(p.jsx)("p",{className:"error-text",children:"Please ensure that the input is a whole number!"})),o){i({amountRemindedInputIsValid:o,amountRemindedInputErrorMsg:s});for(var c=0;c<=1e8;c++);var u="".concat(e.signedInMember.memberId," has reminded ").concat(e.groupMemberObj.memberId," to pay Rs ").concat(r.current.value);l(e.signedInMember.memberId,e.groupMemberObj.memberId,r.current.value),b(u,t);(new Date).getTime();e.onHide()}else i({amountRemindedInputIsValid:o,amountRemindedInputErrorMsg:s})},children:[Object(p.jsxs)("div",{className:j,children:[Object(p.jsx)("label",{style:{position:"relative",fontSize:"105%",fontWeight:"bold",marginTop:"0.2rem",marginLeft:"-5%",marginBottom:"0.7rem"},htmlFor:"amount",children:"Remind ".concat(e.groupMemberObj.memberId," to pay Rs")}),Object(p.jsx)("input",{ref:r,id:"amount",type:"number",min:"0",autoComplete:"off",style:{position:"relative",border:"1px solid black",padding:"0.15rem",marginBottom:"0.9rem",marginLeft:"-5%"}}),!o.amountRemindedInputIsValid&&o.amountRemindedInputErrorMsg]}),Object(p.jsx)(Nt,{type:"submit",children:"Confirm"})]})})},Ct=function(e){var t,r,n=Object(k.useState)(!1),a=Object(c.a)(n,2),o=a[0],s=a[1],i=e.groupMemberObj.myShare,u=e.groupMemberObj.totalAmountPaid,l=e.groupMemberObj.amountReceived,d=e.groupMemberObj.memberId;return i+l>u?(r="Owe Rs ".concat(i-u),t="status-unpaid"):i+l===u?(r="Settled Up",t="status-paid"):(r="Owed Rs ".concat(u-(i+l)),t="status-pending"),Object(p.jsxs)(k.Fragment,{children:[o&&Object(p.jsx)(kt,{groupMemberObj:e.groupMemberObj,onHide:function(){s(!1)},onAddGroupLog:e.onAddGroupLog,signedInMember:e.signedInMember,groupName:e.groupName}),Object(p.jsxs)("tr",{onClick:function(){s(!0)},children:[Object(p.jsx)("td",{children:"".concat(d)}),Object(p.jsx)("td",{class:"amount",children:"Rs. ".concat(i)}),Object(p.jsx)("td",{class:"amount",children:"Rs. ".concat(u)}),Object(p.jsx)("td",{class:"amount",children:"Rs. ".concat(l)}),Object(p.jsx)("td",{children:Object(p.jsx)("p",{class:"status ".concat(t),children:r})})]})]})},Mt=function(e){var t=Object(k.useState)([]),r=Object(c.a)(t,2),n=r[0],a=r[1];return n!=e.indebtedMembers&&a(e.indebtedMembers),Object(p.jsx)("div",{className:"members",children:Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Member Id"}),Object(p.jsx)("th",{children:"Share"}),Object(p.jsx)("th",{children:"Amount Paid"}),Object(p.jsx)("th",{children:"Amount Received"}),Object(p.jsx)("th",{children:"Status"})]})}),Object(p.jsx)("tbody",{children:e.indebtedMembers})]})})},St=(r(125),r(28)),Pt=r(70),Rt=r.n(Pt),Et=function(e){var t=Object(m.i)().groupId,r=Object(k.useRef)(),n=Object(k.useRef)(),a=Object(k.useRef)(),o=Object(k.useState)({amountToBeConfirmedInputIsValid:!0,amountToBeConfirmedInputErrorMsg:"",meansOfPaymentInputIsValid:!0,meansOfPaymentInputErrorMsg:"",proofOfPaymentInputIsValid:!0}),i=Object(c.a)(o,2),l=i[0],b=i[1],j=function(){var e=Object(s.a)(u.a.mark((function e(r,n,a,o,s){var c,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c=A.a.get("jwt"))){e.next=22;break}return i=Object(Y.a)(c),(l=new FormData).append("sender",r),l.append("receiver",n),l.append("amount",a),l.append("means",o),l.append("photo",s),l.append("groupId",t),e.prev=10,e.next=13,d()({method:"POST",url:"https://group-expense-manager-api.herokuapp.com/api/v1/users/sendPaymentConfirmationEmail",data:l,headers:{authorization:"Bearer ".concat(c),id:i.id}});case 13:"success"===e.sent.data.status&&B("success","Payment Confirmation Email successfully sent!"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(10),B("error",e.t0.response.data.message);case 20:e.next=23;break;case 22:B("error","You are not logged in to send the desired mail!");case 23:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t,r,n,a,o){return e.apply(this,arguments)}}(),h=l.amountToBeConfirmedInputIsValid?"form-control":"form-control invalid",f={position:"relative",fontSize:"105%",fontWeight:"bold",marginTop:"0.2rem",marginLeft:"-5%",marginBottom:"0.7rem"},O={position:"relative",border:"1px solid black",padding:"0.15rem",marginBottom:"0.9rem",marginLeft:"-5%"};return Object(p.jsxs)(X,{className:Rt.a.input,onHide:e.onHide,children:[Object(p.jsx)(St.a,{icon:"fa-solid fa-xmark"}),Object(p.jsxs)("form",{onSubmit:function(t){t.preventDefault();var o=r.current.value,s=!0,c="",i=n.current.value,u=!0,l="",d=a.current.value,m=!0,h="";console.log("File"),console.log(d);if(""==o.trim()?(s=!1,c=Object(p.jsx)("p",{className:"error-text",children:"Please enter amount field!"})):o.trim().match(/^\d+$/)?1*e.groupMemberObj.totalAmountPaid-1*e.groupMemberObj.myShare-1*e.groupMemberObj.amountReceived<1*o?(s=!1,c=Object(p.jsx)("p",{className:"error-text",children:"The amount inputted cannot exceed the amount the beared up person has been owed from the group!"})):1*e.signedInMember.myShare+1*e.signedInMember.amountReceived-1*e.signedInMember.totalAmountPaid<1*o&&(s=!1,c=Object(p.jsx)("p",{className:"error-text",children:"The amount inputted exceeded the amount you owe to the group!"})):(s=!1,c=Object(p.jsx)("p",{className:"error-text",children:"Please ensure that the input is a whole number!"})),""===i.trim()&&(u=!1,l=Object(p.jsx)("p",{className:"error-text",children:"Please enter either of the means of payment or proof of payment field(s)!"})),0===t.target[2].files.length&&(m=!1,h=Object(p.jsx)("p",{className:"error-text",children:"Please enter either of the means of payment or proof of payment field(s)!"})),!s||""===i.trim()&&0===t.target[2].files.length)b({amountToBeConfirmedInputIsValid:s,amountToBeConfirmedInputErrorMsg:c,meansOfPaymentInputIsValid:u,meansOfPaymentInputErrorMsg:l,proofOfPaymentInputIsValid:m,proofOfPaymentInputErrorMsg:h});else{b({amountToBeConfirmedInputIsValid:s,amountToBeConfirmedInputErrorMsg:c,meansOfPaymentInputIsValid:u,meansOfPaymentInputErrorMsg:l,proofOfPaymentInputIsValid:m,proofOfPaymentInputErrorMsg:h});for(var f=0;f<=1e8;f++);j(e.signedInMember.memberId,e.groupMemberObj.memberId,o.trim(),i.trim(),t.target[2].files[0]);(new Date).getTime();e.onHide()}},children:[Object(p.jsxs)("div",{className:h,children:[Object(p.jsx)("label",{style:f,htmlFor:"amount",children:"Amount you ask for email confirmation (in Rs.)"}),Object(p.jsx)("input",{ref:r,id:"amount",type:"number",min:"0",autoComplete:"off",style:O}),!l.amountToBeConfirmedInputIsValid&&l.amountToBeConfirmedInputErrorMsg]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{style:f,htmlFor:"means",children:"Short description for your means of payment"}),Object(p.jsx)("input",{ref:n,id:"means",min:"0",autoComplete:"off",style:O}),!l.meansOfPaymentInputIsValid&&l.meansOfPaymentInputErrorMsg]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{style:f,htmlFor:"attachment",children:"Attachment for Proof of Payment"}),Object(p.jsx)("input",{type:"file",ref:a,id:"attachment",style:O}),!l.proofOfPaymentInputIsValid&&l.proofOfPaymentInputErrorMsg]}),Object(p.jsx)(Nt,{type:"submit",children:"Confirm"})]})]})},Gt=(r(126),function(e){var t,r,n=Object(k.useState)(!1),a=Object(c.a)(n,2),o=a[0],s=a[1],i=e.groupMemberObj.myShare,u=e.groupMemberObj.totalAmountPaid,l=e.groupMemberObj.amountReceived,d=e.groupMemberObj.memberId;return i+l>u?(r="Owe Rs ".concat(i-u),t="status-unpaid"):i+l===u?(r="Settled Up",t="status-paid"):(r="Owed Rs ".concat(u-(i+l)),t="status-pending"),Object(p.jsxs)(k.Fragment,{children:[o&&Object(p.jsx)(Et,{groupMemberObj:e.groupMemberObj,onHide:function(){s(!1)},onAddGroupLog:e.onAddGroupLog,signedInMember:e.signedInMember,groupName:e.groupName}),Object(p.jsxs)("tr",{onClick:function(){s(!0)},children:[Object(p.jsx)("td",{children:"".concat(d)}),Object(p.jsx)("td",{class:"amount",children:"Rs. ".concat(i)}),Object(p.jsx)("td",{class:"amount",children:"Rs. ".concat(u)}),Object(p.jsx)("td",{class:"amount",children:"Rs. ".concat(l)}),Object(p.jsx)("td",{children:Object(p.jsx)("p",{class:"status ".concat(t),children:r})})]})]})}),At=function(e){return Object(p.jsx)("div",{className:"members",children:Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Member Id"}),Object(p.jsx)("th",{children:"Share"}),Object(p.jsx)("th",{children:"Amount Paid"}),Object(p.jsx)("th",{children:"Amount Received"}),Object(p.jsx)("th",{children:"Status"})]})}),Object(p.jsx)("tbody",{children:e.bearedUpMembers})]})})},Tt=function(e){var t,r=Object(m.i)().groupId,n=Object(k.useState)(null),a=Object(c.a)(n,2),o=a[0],i=a[1],l=Object(k.useState)(null),w=Object(c.a)(l,2),N=w[0],C=w[1],M=Object(k.useState)(""),S=Object(c.a)(M,2),P=S[0],R=S[1],E=Object(k.useState)(""),G=Object(c.a)(E,2),T=G[0],F=G[1],H=Object(k.useState)(""),V=Object(c.a)(H,2),W=V[0],D=V[1],L=Object(k.useState)(null),U=Object(c.a)(L,2),z=U[0],q=U[1],X=Object(k.useState)(null),Q=Object(c.a)(X,2),J=Q[0],Z=Q[1],K=Object(k.useState)(null),$=Object(c.a)(K,2),ee=$[0],te=$[1],re=Object(k.useState)([]),ne=Object(c.a)(re,2),ae=ne[0],oe=ne[1],se=Object(k.useState)([]),ce=Object(c.a)(se,2),ie=ce[0],ue=ce[1],le=Object(k.useCallback)(Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=A.a.get("jwt"))){e.next=15;break}return Object(Y.a)(t),e.prev=3,e.next=6,d()({method:"GET",url:"https://group-expense-manager-api.herokuapp.com/api/v1/groups/".concat(r),headers:{authorization:"Bearer ".concat(t)}});case 6:"success"===(n=e.sent).data.status&&(b=n.data.data.group,console.log(n.data.data.group)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),B("error",e.t0.response.data.message);case 13:e.next=16;break;case 15:B("error","You are not logged in to access the group!");case 16:case"end":return e.stop()}}),e,null,[[3,10]])}))),[]),de=Object(k.useCallback)(Object(s.a)(u.a.mark((function e(){var r,n,a,o,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=A.a.get("jwt"))){e.next=15;break}return n=Object(Y.a)(r),e.prev=3,e.next=6,d()({method:"GET",url:"https://group-expense-manager-api.herokuapp.com/api/v1/users/".concat(n.id),headers:{authorization:"Bearer ".concat(r)}});case 6:"success"===(a=e.sent).data.status&&(j=a.data.data.user,t=b.members.find((function(e){return e.memberId===j.email})),o=t.totalAmountPaid,s=t.amountReceived,c=t.myShare,g=t.totalAmountPaid,v=t.amountReceived,x=t.myShare,y=o-s>c?"owed":o-s===c?"settled":"owe"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),B("error",e.t0.response.data.message);case 13:e.next=16;break;case 15:B("error","You are not logged in to access the group!");case 16:case"end":return e.stop()}}),e,null,[[3,10]])}))),[]),me=Object(k.useCallback)(Object(s.a)(u.a.mark((function r(){var n,a,s;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:"owed"===(n=null===J?y:J-ee>z?"owed":J-ee===z?"settled":"owe")?(h="owed",f="You are owed Rs ".concat(g-v-x," from the group.You can set reminder to few of the members of this group by clicking on the following members."),O="status-pending",a=b.members.filter((function(e){return e.totalAmountPaid-e.amountReceived<e.myShare})).map((function(r){return Object(p.jsx)(Ct,{groupMemberObj:r,onAddGroupLog:e.onAddGroupLog,signedInMember:t,groupName:b.groupName},r._id)})),_=a):"settled"===n?(h="settled",f="Your payment is all settled up!",O="status-paid"):(h="owe",f="You owe Rs ".concat(x-(g-v)," to the group.If you have paid some amount to member(s) of the group and still not have your information about the payment updated in the application, click on some of the following members to send email about confirming the payment!"),O="status-unpaid",console.log(o),s=b.members.filter((function(e){return e.totalAmountPaid-e.amountReceived>e.myShare})).map((function(r){return Object(p.jsx)(Gt,{groupMemberObj:r,signedInMember:t,onAddGroupLog:e.onAddGroupLog,groupName:b.groupName},r._id)})),I=s);case 2:case"end":return r.stop()}}),r)}))),[]);return Object(k.useEffect)(Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:return e.next=4,de();case 4:i(b),C(j),b&&j&&me(),R(h),D(O),F(f),N&&o&&(t=o.members.find((function(e){return e.memberId===N.email})),q(t.myShare),Z(t.totalAmountPaid),te(t.amountReceived)),oe(_),ue(I);case 13:case"end":return e.stop()}}),e)}))),[de,le,me]),Object(p.jsxs)("div",{children:[Object(p.jsx)(vt,{debtMessage:T,debtStatusClassName:W}),"owed"===P&&Object(p.jsx)(Mt,{indebtedMembers:ae,onAddGroupLog:e.onAddGroupLog}),"owe"===P&&Object(p.jsx)(At,{bearedUpMembers:ie})]})},Bt=r(38),Ft=r.n(Bt),Ht=r(71),Vt=r.n(Ht),Wt=r(16),Dt=r.n(Wt),Lt=function(e){var t=Object(m.g)(),r=Object(k.useContext)(V);return Object(p.jsxs)("header",{className:Dt.a.header,children:[Object(p.jsxs)("div",{className:Dt.a.logo,children:[e.groupObj.name," ",Object(p.jsx)("span",{style:{fontStyle:"italic",fontSize:"65%"},children:"(Rs. ".concat(e.groupObj.worth," splitted)")})]}),Object(p.jsx)("nav",{className:Dt.a.nav,children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsx)(o.c,{to:"/groups/".concat(e.groupObj._id),activeClassName:Dt.a.active,exact:!0,children:"Members"})}),Object(p.jsx)("li",{children:Object(p.jsx)(o.c,{to:"/groups/".concat(e.groupObj._id,"/settle-up"),activeClassName:Dt.a.active,exact:!0,children:"Settle Up"})}),Object(p.jsx)("li",{children:Object(p.jsx)(o.c,{to:"/groups/".concat(e.groupObj._id,"/logs"),activeClassName:Dt.a.active,exact:!0,children:"Logs"})}),Object(p.jsx)("li",{children:Object(p.jsx)(o.c,{to:"/groups/".concat(e.groupObj._id,"/contacts"),activeClassName:Dt.a.active,exact:!0,children:"Contacts"})}),Object(p.jsx)("li",{children:Object(p.jsx)(o.c,{to:"/groups",activeClassName:Dt.a.active,exact:!0,children:"Home"})}),Object(p.jsx)("li",{onClick:function(){r.logout(),t.replace("/login")},children:Object(p.jsx)(o.c,{to:"/logout",activeClassName:Dt.a.active,exact:!0,children:"Logout"})})]})})]})},Ut=function(e){var t=Object(m.i)().groupId;if(0!==e.Original_Dummy_Groups.length){var r=e.Original_Dummy_Groups.find((function(e){return e._id===t}));return Object(p.jsxs)(k.Fragment,{children:[Object(p.jsx)(Lt,{groupObj:r}),Object(p.jsx)("main",{className:Vt.a.main,children:e.children})]})}return Object(p.jsx)(k.Fragment,{})},Yt=r(72),zt=r.n(Yt),qt=r(73),Xt=r.n(qt),Qt=function(e){return Object(p.jsx)("div",{className:Xt.a.btnWrapper,children:Object(p.jsx)("button",{type:e.type||"button",onClick:e.onHide,style:{height:"140%",borderRadius:"8px",marginBottom:"10%"},children:e.children})})},Jt=function(e){var t=Object(k.useRef)(),r=Object(k.useRef)(),n=Object(k.useRef)(),a=function(){var e=Object(s.a)(u.a.mark((function e(t,r,n){var a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=A.a.get("jwt"))){e.next=16;break}return o=Object(Y.a)(a),console.log(o),e.prev=4,e.next=7,d()({method:"PATCH",url:"https://group-expense-manager-api.herokuapp.com/api/v1/users/updateMyPassword",data:{passwordCurrent:t,password:r,passwordConfirm:n},headers:{authorization:"Bearer ".concat(a),id:o.id}});case 7:"success"===e.sent.data.status&&B("success","Password updated successfully!"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),B("error",e.t0.response.data.message);case 14:e.next=17;break;case 16:B("error","You are not logged in to update password!");case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,r,n){return e.apply(this,arguments)}}(),o={position:"relative",fontSize:"105%",fontWeight:"bold",marginTop:"0.2rem",marginLeft:"-5%",marginBottom:"0.7rem"},c={position:"relative",border:"1px solid black",padding:"0.15rem",marginBottom:"0.9rem",marginLeft:"-5%"};return Object(p.jsxs)(X,{className:zt.a.input,onHide:e.onHide,children:[Object(p.jsx)(St.a,{icon:"fa-solid fa-xmark"}),Object(p.jsxs)("form",{onSubmit:function(o){o.preventDefault();var s=t.current.value,c=r.current.value,i=n.current.value;a(s,c,i),e.onHide()},children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{style:o,htmlFor:"currentPassword",children:"Enter your current password"}),Object(p.jsx)("input",{ref:t,id:"currentPassword",type:"password",autoComplete:"off",style:c})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{style:o,htmlFor:"newPassword",children:"Enter your new password"}),Object(p.jsx)("input",{ref:r,id:"newPassword",type:"password",autoComplete:"off",style:c})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{style:o,htmlFor:"confirmNewPassword",children:"Confirm your new password"}),Object(p.jsx)("input",{ref:n,id:"confirmNewPassword",type:"password",autoComplete:"off",style:c})]}),Object(p.jsx)(Qt,{type:"submit",children:"Update Password"})]})]})},Zt=r(19),Kt=r.n(Zt),$t=function(){Object(m.g)("/");var e=Object(k.useRef)(),t=Object(k.useRef)(),r=Object(m.i)().token,n=function(){var e=Object(s.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({method:"PATCH",url:"https://group-expense-manager-api.herokuapp.com/api/v1/users/resetPassword/".concat(r),data:{password:t,passwordConfirm:n}});case 3:"success"===e.sent.data.status&&B("success","Password resetted successfully!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),B("error",e.t0.response.data.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(p.jsx)("div",{className:Kt.a.pageCoverGrey,children:Object(p.jsx)("div",{className:Kt.a["form-container"],children:Object(p.jsxs)("form",{className:Kt.a["form-wrap"],onSubmit:function(r){r.preventDefault();var a=e.current.value,o=t.current.value;n(a,o),e.current.value="",t.current.value=""},children:[Object(p.jsx)("h2",{children:"Reset Password"}),Object(p.jsx)("div",{className:Kt.a["form-box"],children:Object(p.jsx)("input",{type:"password",ref:e,placeholder:"Enter your new password"})}),Object(p.jsx)("div",{className:Kt.a["form-box"],children:Object(p.jsx)("input",{type:"password",ref:t,placeholder:"Confirm your new password"})}),Object(p.jsx)("div",{className:Kt.a["form-submit"],children:Object(p.jsx)("input",{type:"submit",value:"Confirm"})})]})})})},er=[];var tr=function(){var e=Object(m.g)("/"),t=Object(k.useState)([]),r=Object(c.a)(t,2),n=r[0],a=r[1],o=Object(k.useState)(null),i=Object(c.a)(o,2),l=i[0],b=i[1],j=Object(k.useState)(""),h=Object(c.a)(j,2),f=h[0],O=h[1],x=Object(k.useState)(!1),g=Object(c.a)(x,2),v=g[0],_=g[1],I=Object(k.useCallback)(Object(s.a)(u.a.mark((function e(){var t,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=A.a.get("jwt"))){e.next=14;break}return r=Object(Y.a)(t),console.log(r),e.prev=4,e.next=7,d()({method:"GET",url:"https://group-expense-manager-api.herokuapp.com/api/v1/groups/myGroups/".concat(r.id),headers:{authorization:"Bearer ".concat(t)}});case 7:"success"===(n=e.sent).data.status&&a(n.data.data.myGroups),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),B("error",e.t0.response.data.message);case 14:case"end":return e.stop()}}),e,null,[[4,11]])}))),[]),y=Object(k.useCallback)(Object(s.a)(u.a.mark((function e(){var t,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=A.a.get("jwt"))){e.next=14;break}return r=Object(Y.a)(t),console.log(r),e.prev=4,e.next=7,d()({method:"GET",url:"https://group-expense-manager-api.herokuapp.com/api/v1/users/".concat(r.id),headers:{authorization:"Bearer ".concat(t)}});case 7:"success"===(n=e.sent).data.status&&b(n.data.data.user),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),B("error",e.t0.response.data.message);case 14:case"end":return e.stop()}}),e,null,[[4,11]])}))),[]);Object(k.useEffect)((function(){y(),I()}),[y,I]);var N=Object(k.useState)(!1),M=Object(c.a)(N,2),S=M[0],P=M[1],E=Object(k.useState)(""),G=Object(c.a)(E,2),T=G[0],F=G[1],H=Object(k.useState)(""),W=Object(c.a)(H,2),D=W[0],z=W[1],q=Object(k.useContext)(V),X=Object(m.h)(),Q=q.isLoggedIn;"/login"===X.pathname&&Q&&e.replace("/groups");var J=function(){P(!0)};return Object(p.jsxs)(C.a.Fragment,{children:[!Q&&!X.pathname.startsWith("/resetPassword")&&Object(p.jsx)(m.a,{to:"/login"}),Q&&"/"===X.pathname&&Object(p.jsx)(m.a,{to:"/groups"}),Object(p.jsxs)(m.d,{children:[Object(p.jsx)(m.b,{path:"/resetPassword/:token",exact:!0,children:Object(p.jsx)($t,{})}),Object(p.jsx)(m.b,{path:"/groups",exact:!0,children:Object(p.jsxs)("div",{className:Ft.a.pageCoverViolet,children:[S&&Object(p.jsx)(ee,{onShow:J,onHide:function(){P(!1)},onSubmit:function(e,t){F(e),z(t)},onInitialiseGroupId:function(e){O(e)},initialisedGroupId:f}),v&&Object(p.jsx)(Jt,{onHide:function(){_(!1)}}),Object(p.jsx)(L,{user:l,onShowPasswordUpdateForm:function(){_(!0)}}),Object(p.jsx)(w,{}),Object(p.jsx)(U,{onShow:J}),Object(p.jsx)(R,{users:er,groups:n,user:l})]})}),Object(p.jsx)(m.b,{path:"/create-new-group",exact:!0,children:Object(p.jsx)("div",{className:Ft.a.pageCoverYellow,children:Object(p.jsx)($e,{groupNameInput:T,totalAmountInput:D,Dummy_Users:er,initialisedGroupId:f,user:l})})}),Object(p.jsx)(m.b,{path:"/groups/:groupId",children:Object(p.jsx)(Ut,{Original_Dummy_Groups:n,children:Object(p.jsxs)(m.d,{children:[Object(p.jsx)(m.b,{path:"/groups/:groupId",exact:!0,children:Object(p.jsx)(bt,{Original_Dummy_Groups:n,Dummy_Users:er,user:l})}),Object(p.jsx)(m.b,{path:"/groups/:groupId/settle-up",exact:!0,children:Object(p.jsx)(Tt,{Original_Dummy_Groups:n,onAddGroupLog:function(e,t,r){var o={date:e,logText:t},s=n.find((function(e){return e.id===r}));s.logs.push(o);var c=n.filter((function(e){return e.id!==r}));c.push(s),a(c)}})}),Object(p.jsx)(m.b,{path:"/groups/:groupId/logs",exact:!0,children:Object(p.jsx)(gt,{Original_Dummy_Groups:n})}),Object(p.jsx)(m.b,{path:"/groups/:groupId/contacts",exact:!0,children:Object(p.jsx)(ht,{Original_Dummy_Groups:n,Dummy_Users:er})})]})})}),Object(p.jsx)(m.b,{path:"/login",children:Object(p.jsx)(mt,{})}),Object(p.jsx)(m.b,{path:"/logout",children:Object(p.jsx)(m.a,{to:"/login"})})]})]})};a.a.render(Object(p.jsx)(H,{children:Object(p.jsx)(o.a,{children:Object(p.jsx)(tr,{})})}),document.getElementById("root"))}],[[127,1,2]]]);
//# sourceMappingURL=main.ff52430a.chunk.js.map